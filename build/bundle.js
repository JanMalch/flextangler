var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function i(t){t.forEach(e)}function o(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode.removeChild(t)}function c(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function u(){return h(" ")}function d(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function f(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let m;function p(t){m=t}function w(){const t=function(){if(!m)throw new Error("Function called outside component initialization");return m}();return(e,n)=>{const i=t.$$.callbacks[e];if(i){const o=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);i.slice().forEach((e=>{e.call(t,o)}))}}}const y=[],x=[],v=[],$=[],b=Promise.resolve();let C=!1;function L(t){v.push(t)}let k=!1;const T=new Set;function R(){if(!k){k=!0;do{for(let t=0;t<y.length;t+=1){const e=y[t];p(e),I(e.$$)}for(p(null),y.length=0;x.length;)x.pop()();for(let t=0;t<v.length;t+=1){const e=v[t];T.has(e)||(T.add(e),e())}v.length=0}while(y.length);for(;$.length;)$.pop()();C=!1,k=!1,T.clear()}}function I(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}const E=new Set;function _(t,e){t&&t.i&&(E.delete(t),t.i(e))}function P(t,e,n,i){if(t&&t.o){if(E.has(t))return;E.add(t),undefined.c.push((()=>{E.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}}function j(t){t&&t.c()}function B(t,n,a){const{fragment:r,on_mount:s,on_destroy:l,after_update:c}=t.$$;r&&r.m(n,a),L((()=>{const n=s.map(e).filter(o);l?l.push(...n):i(n),t.$$.on_mount=[]})),c.forEach(L)}function S(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function q(t,e){-1===t.$$.dirty[0]&&(y.push(t),C||(C=!0,b.then(R)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function A(e,o,a,r,s,c,h=[-1]){const u=m;p(e);const d=o.props||{},g=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:h,skip_bound:!1};let f=!1;if(g.ctx=a?a(e,d,((t,n,...i)=>{const o=i.length?i[0]:n;return g.ctx&&s(g.ctx[t],g.ctx[t]=o)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](o),f&&q(e,t)),n})):[],g.update(),f=!0,i(g.before_update),g.fragment=!!r&&r(g.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);g.fragment&&g.fragment.l(t),t.forEach(l)}else g.fragment&&g.fragment.c();o.intro&&_(e.$$.fragment),B(e,o.target,o.anchor),R()}p(u)}class z{$destroy(){S(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function F(t,e,n){const i=t.slice();return i[5]=e[n],i[7]=n,i}function D(t){let e,n,i;return{c(){e=c("img"),e.src!==(n=t[0][t[7]].src??void 0)&&g(e,"src",n),g(e,"alt",i=t[0][t[7]].alt+"}"),g(e,"class","svelte-10y3sb4")},m(t,n){s(t,e,n)},p(t,o){1&o&&e.src!==(n=t[0][t[7]].src??void 0)&&g(e,"src",n),1&o&&i!==(i=t[0][t[7]].alt+"}")&&g(e,"alt",i)},d(t){t&&l(e)}}}function M(t){let e,n,i,o,a,m,p,w,y,x,v,$,b=null==t[0][t[7]]?.src?`Select one ${3!==t[7]?"or more":""} image${3===t[7]?"":"s"}.`:"Swap image.",C=null!=t[0][t[7]]?.src&&D(t);function L(...e){return t[2](t[7],...e)}return{c(){e=c("div"),C&&C.c(),n=u(),i=c("label"),o=h(b),m=u(),p=c("input"),x=u(),g(i,"for",a="file-"+t[7]),g(i,"class","svelte-10y3sb4"),g(p,"id",w="file-"+t[7]),g(p,"type","file"),g(p,"accept","image/*"),p.multiple=y=3!==t[7],g(p,"class","svelte-10y3sb4"),g(e,"class","box-shadow svelte-10y3sb4")},m(t,a){s(t,e,a),C&&C.m(e,null),r(e,n),r(e,i),r(i,o),r(e,m),r(e,p),r(e,x),v||($=d(p,"change",L),v=!0)},p(i,a){null!=(t=i)[0][t[7]]?.src?C?C.p(t,a):(C=D(t),C.c(),C.m(e,n)):C&&(C.d(1),C=null),1&a&&b!==(b=null==t[0][t[7]]?.src?`Select one ${3!==t[7]?"or more":""} image${3===t[7]?"":"s"}.`:"Swap image.")&&f(o,b)},d(t){t&&l(e),C&&C.d(),v=!1,$()}}}function O(e){let n,i={length:4},o=[];for(let t=0;t<i.length;t+=1)o[t]=M(F(e,i,t));return{c(){n=c("form");for(let t=0;t<o.length;t+=1)o[t].c();g(n,"class","svelte-10y3sb4")},m(t,e){s(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(3&e){let a;for(i={length:4},a=0;a<i.length;a+=1){const r=F(t,i,a);o[a]?o[a].p(r,e):(o[a]=M(r),o[a].c(),o[a].m(n,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}},i:t,o:t,d(t){t&&l(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(o,t)}}}function H(t,e,n){let{images:i=[]}=e;const o=w();let a=Array(4).fill(null);function r(t,e){const n=Array.from(t.target.files);a=Array(4).fill(null).map(((t,i)=>i<e||i>=e+n.length?a[i]:n[i-e])),o("filesChange",a)}return t.$$set=t=>{"images"in t&&n(0,i=t.images)},[i,r,(t,e)=>r(e,t)]}class U extends z{constructor(t){super(),A(this,t,H,O,a,{images:0})}}function N(t,e){return Object.freeze({x:t,y:e})}function W(t){return e=>t.map((t=>{return(n=t,t=>({x:n.x*t,y:n.y*t}))(e);var n}))}const Y=W([N(0,0),N(1,.5),N(2,0)]);const G=W([N(0,0),N(0,1),N(1,.5)]);function V(t,e,n,i){null!=i?t.drawImage(e,i.x,i.y,i.width,i.height,n.x,n.y,n.width,n.height):t.drawImage(e,n.x,n.y,n.width,n.height)}function J(t,e){t.moveTo(e[0].x,e[0].y);for(let n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y)}function K(t,e,n,i,o){t.save(),t.beginPath(),J(t,e.points.map((t=>N(t.x+e.x,t.y+e.y)))),t.closePath(),t.fillStyle="#eeeeee",t.fill(),t.fillStyle="#333333",t.font="18px monospace",t.textAlign="center",t.textBaseline=i,o&&o(),t.fillText("Glue",n.x,n.y),t.restore()}function Q(t,e,n){const i=function(t){return[{x:0,y:0,points:Y(t)},{x:2*t,y:0,points:Y(t)},{x:4*t,y:0,points:Y(t)}]}(e),o=function(t){return[{x:6*t,y:0,points:G(t)},{x:6*t,y:t,points:G(t)}]}(e);for(const e of i)K(t,e,N(e.x+e.points[1].x,(e.y+e.points[1].y)/2),"bottom");for(const e of o)K(t,e,N(e.x+e.points[1].x,e.y+e.points[1].y/2),"middle",(()=>t.translate(n/2,0)))}const X={vertical:Array(6).fill(0).map(((t,e)=>({start:N(e+1,0),end:N(e+1,e%2==0?2.5:2)}))),diagonalTLBR:[{start:N(0,1),end:N(2,2)},{start:N(0,0),end:N(4,2)},{start:N(2,0),end:N(6,2)},{start:N(4,0),end:N(6,1)}],diagonalBLTR:[{start:N(0,1),end:N(2,0)},{start:N(0,2),end:N(4,0)},{start:N(2,2),end:N(6,0)},{start:N(4,2),end:N(6,1)}]};function Z(t){t.setLineDash([5,10]),t.lineWidth=1,t.strokeStyle="#666666"}const tt=Math.sqrt(3)/4;function et(t){return Math.PI*t/180}const nt=[{relativeRectangle:{x:0,y:.5,width:.5,height:tt},rotation:(t,e)=>{const n=t.getContext("2d");n.translate(t.width/2,t.height/2),n.rotate(et(90)),n.drawImage(e,e.width/-2,e.height/-2)}},{relativeRectangle:{x:0,y:.5-tt,width:.5,height:tt},rotation:(t,e)=>{const n=t.getContext("2d");n.translate(t.width/2,t.height/2),n.rotate(et(90)),n.drawImage(e,e.width/-2,e.height/-2)}},{rotation:(t,e)=>{const n=t.getContext("2d");n.translate(0,e.width/2),n.rotate(et(-30)),n.drawImage(e,0,0)},relativeRectangle:{x:.25,y:.5-tt,width:.5,height:tt}},{rotation:(t,e)=>{const n=t.getContext("2d");n.rotate(et(-30)),n.drawImage(e,e.width/-2,0)},relativeRectangle:{x:.5,y:.5-tt,width:.5,height:tt}},{rotation:(t,e)=>{const n=t.getContext("2d");n.translate(0,t.height/2),n.rotate(et(-150)),n.drawImage(e,-1*t.height,0)},relativeRectangle:{x:.5,y:.5,width:.5,height:tt}},{rotation:(t,e)=>{const n=t.getContext("2d");n.translate(t.width,t.height/2),n.rotate(et(-150)),n.drawImage(e,0,-1*t.width)},relativeRectangle:{x:.25,y:.5,width:.5,height:tt}}],it=[{relativeRectangle:{x:.5-tt,y:0,width:tt,height:.5},rotation:(t,e)=>{t.getContext("2d").drawImage(e,0,0)}},{relativeRectangle:{x:.5,y:0,width:tt,height:.5},rotation:(t,e)=>{t.getContext("2d").drawImage(e,0,0)}},{rotation:(t,e)=>{const n=t.getContext("2d");n.translate(0,t.height/2),n.rotate(et(-120)),n.drawImage(e,-1*t.width,0)},relativeRectangle:{x:.5,y:.25,width:tt,height:.5}},{rotation:(t,e)=>{const n=t.getContext("2d");n.translate(t.width,t.height/2),n.rotate(et(-120)),n.drawImage(e,0,-1*t.height)},relativeRectangle:{x:.5,y:.5,width:tt,height:.5}},{rotation:(t,e)=>{const n=t.getContext("2d");n.translate(t.width,0),n.rotate(et(120)),n.drawImage(e,0,t.height/-2)},relativeRectangle:{x:.5-tt,y:.5,width:tt,height:.5}},{rotation:(t,e)=>{const n=t.getContext("2d");n.rotate(et(120)),n.drawImage(e,0,-1*t.height)},relativeRectangle:{x:.5-tt,y:.25,width:tt,height:.5}}];function ot(t,e,n,i){const o=t.getContext("2d");o.clearRect(0,0,t.width,t.height),o.save(),function(t,e,n){t.save(),t.beginPath(),J(t,e),t.closePath(),t.clip(),n(),t.restore()}(o,n.map((e=>({x:e.x*t.width,y:e.y*t.height}))),(()=>{V(o,e,{x:0,y:0,width:t.width,height:t.height},{x:i.x*e.naturalWidth,y:i.y*e.naturalHeight,width:i.width*e.naturalWidth,height:i.height*e.naturalHeight})})),o.restore()}function at(t){const e=document.createElement("canvas");return e.width=t.width,e.height=t.height,e}function rt(t,e,n,i,o,a){const r=t*(2*tt),s=at({width:a?r:t,height:a?t:r}),l=at({height:t,width:r}),c=at({width:t,height:t});return ot(s,e,n,i),function(t,e,n){const i=e.getContext("2d");i.save(),n(e,t),i.restore()}(s,l,o),function(t,e){const n=e.getContext("2d");n.save(),V(n,t,{x:0,y:0,width:e.width,height:e.height},{x:0,y:0,width:t.width,height:t.height}),n.restore()}(l,c),c}const st=[{x:.5,y:0},{x:1,y:1},{x:0,y:1}],lt=[{x:0,y:0},{x:1,y:0},{x:.5,y:1}],ct=[{x:0,y:.5},{x:1,y:1},{x:1,y:0}],ht=[{x:0,y:0},{x:1,y:.5},{x:0,y:1}];function ut(e){let n,i,o;return{c(){n=c("canvas"),g(n,"class","box-shadow svelte-1airipy"),g(n,"width",i=6*e[1]+e[2]),g(n,"height",o=2.5*e[1])},m(t,i){s(t,n,i),e[7](n)},p(t,[e]){6&e&&i!==(i=6*t[1]+t[2])&&g(n,"width",i),2&e&&o!==(o=2.5*t[1])&&g(n,"height",o)},i:t,o:t,d(t){t&&l(n),e[7](null)}}}function dt(t,e,n){let{drawables:i=[]}=e,{size:o}=e,{drawCuttingLines:a}=e,{drawFoldingLines:r}=e,{pointyBottom:s}=e,{canvas:l=null}=e;const c=w();const h=({start:t,end:e})=>{d.beginPath(),d.moveTo(o*t.x,o*t.y),d.lineTo(o*e.x,o*e.y),d.stroke()};function u(t,e,n){e%2==0?0===n?d.drawImage(t,5*t.width,e*(o/2)):d.drawImage(t,(n-1)*t.width,e*(o/2)):d.drawImage(t,n*t.width,e*(o/2))}let d,g;return t.$$set=t=>{"drawables"in t&&n(3,i=t.drawables),"size"in t&&n(1,o=t.size),"drawCuttingLines"in t&&n(4,a=t.drawCuttingLines),"drawFoldingLines"in t&&n(5,r=t.drawFoldingLines),"pointyBottom"in t&&n(6,s=t.pointyBottom),"canvas"in t&&n(0,l=t.canvas)},t.$$.update=()=>{if(1&t.$$.dirty&&n(8,d=null==l?void 0:l.getContext("2d")),2&t.$$.dirty&&n(2,g=Math.ceil(.4*o)),383&t.$$.dirty&&null!=l&&null!=d){d.clearRect(0,0,l.width,l.height),Q(d,o,g);const t=4===i.length&&i.every((t=>t instanceof HTMLImageElement));if(t){const t=s?it:nt,e=s?[ct,ht]:[lt,st],n=i.map((n=>Array(6).fill(0).map(((i,o)=>Object.assign({image:n,clippingTriangle:e[o%2]},t[o])))));for(let t=0;t<n.length;t++){const e=n[t];for(let n=0;n<6;n++){const i=e[n];u(rt(o,i.image,i.clippingTriangle,i.relativeRectangle,i.rotation,s),t,n)}}}a&&function(){d.save(),d.beginPath(),d.moveTo(0,0),d.lineTo(0,2*o),d.lineTo(o,2.5*o),d.lineTo(2*o,2*o),d.lineTo(3*o,2.5*o),d.lineTo(4*o,2*o),d.lineTo(5*o,2.5*o),d.lineTo(6*o,2*o);const t=Math.tan(et(90-63.435))*g;d.lineTo(6*o+g,2*o-t),d.lineTo(6*o+g,o+t),d.lineTo(6*o,o),d.lineTo(6*o+g,o-t),d.lineTo(6*o+g,t),d.lineTo(6*o,0),d.closePath(),Z(d),d.stroke(),d.restore()}(),r&&(d.save(),Z(d),X.vertical.forEach(h),X.diagonalTLBR.forEach(h),X.diagonalBLTR.forEach(h),d.restore()),c("finish",{canvas:l,imagesAvailable:t})}},[l,o,g,i,a,r,s,function(t){x[t?"unshift":"push"]((()=>{l=t,n(0,l)}))}]}class gt extends z{constructor(t){super(),A(this,t,dt,ut,a,{drawables:3,size:1,drawCuttingLines:4,drawFoldingLines:5,pointyBottom:6,canvas:0})}get drawables(){return this.$$.ctx[3]}set drawables(t){this.$set({drawables:t}),R()}get size(){return this.$$.ctx[1]}set size(t){this.$set({size:t}),R()}get drawCuttingLines(){return this.$$.ctx[4]}set drawCuttingLines(t){this.$set({drawCuttingLines:t}),R()}get drawFoldingLines(){return this.$$.ctx[5]}set drawFoldingLines(t){this.$set({drawFoldingLines:t}),R()}get pointyBottom(){return this.$$.ctx[6]}set pointyBottom(t){this.$set({pointyBottom:t}),R()}get canvas(){return this.$$.ctx[0]}set canvas(t){this.$set({canvas:t}),R()}}function ft(t){let e;return{c(){e=h("Please select 4 images or download the blank template.")},m(t,n){s(t,e,n)},d(t){t&&l(e)}}}function mt(t){let e,n;return{c(){e=c("strong"),e.textContent="Your template is ready!",n=u()},m(t,i){s(t,e,i),s(t,n,i)},d(t){t&&l(e),t&&l(n)}}}function pt(t){let e,n,o,a,m,p,w,y,x,v,$,b,C,L,k,T,R,I,E,q,A,z,F,D,M,O,H,N,W,Y,G,V,J,K,Q,X,Z,tt,et,nt,it,ot,at,rt,st,lt,ct=t[2]?"Hide":"Show";function ht(t,e){return t[5]?mt:ft}p=new U({props:{images:t[3]}}),p.$on("filesChange",t[9]);let ut=ht(t),dt=ut(t),pt={drawables:t[4],drawCuttingLines:t[6],drawFoldingLines:t[7],pointyBottom:t[8],size:wt};return nt=new gt({props:pt}),t[16](nt),nt.$on("finish",t[10]),{c(){e=c("p"),e.textContent=`The app will then transform your images to fit the flextangle template. Please\n  note that the cutting is based on the largest possible hexagon in the center\n  of each image. To make sure you have the desired outcome, you can upload\n  squared images that are at least\n  ${wt}×${wt}px in size.`,n=u(),o=c("p"),o.textContent="Simply select four images with the boxes below. If you select more than one\n  file, they are put into the subsequent boxes.",a=u(),m=c("section"),j(p.$$.fragment),w=u(),y=c("section"),x=c("label"),v=c("input"),$=h("\n    Y-Symmetric"),b=h("  \n  "),C=c("small"),C.textContent="(looks better, but has a pointy bottom and thus cannot stand upright)",L=u(),k=c("br"),T=u(),R=c("br"),I=u(),E=c("label"),q=c("input"),A=h("\n    Draw cutting lines"),z=h("\n    \n  "),F=c("label"),D=c("input"),M=h("\n    Draw folding lines"),O=u(),H=c("section"),N=c("p"),dt.c(),W=c("br"),Y=h("\n    Download the image or verify the outcome in the preview beforehand."),G=u(),V=c("section"),J=c("button"),J.textContent="Download template",K=u(),Q=c("button"),X=h(ct),Z=h("\n    preview"),tt=u(),et=c("section"),j(nt.$$.fragment),ot=u(),at=c("section"),at.innerHTML='<p>Print the template and follow the\n    <a href="https://i.imgur.com/9Fmn6Da.mp4" rel="noopener">cutting and folding\n      instructions</a>.<br/>\n    Lastly make sure you share this website with your family and friends, if you\n    like it.</p>',g(m,"class","svelte-1jrm2q"),g(v,"type","checkbox"),g(q,"type","checkbox"),g(D,"type","checkbox"),g(y,"class","svelte-1jrm2q"),g(H,"class","svelte-1jrm2q"),g(J,"class","btn box-shadow svelte-1jrm2q"),g(Q,"class","btn box-shadow svelte-1jrm2q"),g(V,"class","svelte-1jrm2q"),et.hidden=it=!t[2],g(et,"class","svelte-1jrm2q"),g(at,"class","svelte-1jrm2q")},m(i,l){s(i,e,l),s(i,n,l),s(i,o,l),s(i,a,l),s(i,m,l),B(p,m,null),s(i,w,l),s(i,y,l),r(y,x),r(x,v),v.checked=t[8],r(x,$),r(y,b),r(y,C),r(y,L),r(y,k),r(y,T),r(y,R),r(y,I),r(y,E),r(E,q),q.checked=t[6],r(E,A),r(y,z),r(y,F),r(F,D),D.checked=t[7],r(F,M),s(i,O,l),s(i,H,l),r(H,N),dt.m(N,null),r(N,W),r(N,Y),s(i,G,l),s(i,V,l),r(V,J),r(V,K),r(V,Q),r(Q,X),r(Q,Z),s(i,tt,l),s(i,et,l),B(nt,et,null),t[17](et),s(i,ot,l),s(i,at,l),rt=!0,st||(lt=[d(v,"change",t[13]),d(q,"change",t[14]),d(D,"change",t[15]),d(J,"click",t[12]),d(Q,"click",t[11])],st=!0)},p(t,[e]){const n={};8&e&&(n.images=t[3]),p.$set(n),256&e&&(v.checked=t[8]),64&e&&(q.checked=t[6]),128&e&&(D.checked=t[7]),ut!==(ut=ht(t))&&(dt.d(1),dt=ut(t),dt&&(dt.c(),dt.m(N,W))),(!rt||4&e)&&ct!==(ct=t[2]?"Hide":"Show")&&f(X,ct);const i={};16&e&&(i.drawables=t[4]),64&e&&(i.drawCuttingLines=t[6]),128&e&&(i.drawFoldingLines=t[7]),256&e&&(i.pointyBottom=t[8]),nt.$set(i),(!rt||4&e&&it!==(it=!t[2]))&&(et.hidden=it)},i(t){rt||(_(p.$$.fragment,t),_(nt.$$.fragment,t),rt=!0)},o(t){P(p.$$.fragment,t),P(nt.$$.fragment,t),rt=!1},d(r){r&&l(e),r&&l(n),r&&l(o),r&&l(a),r&&l(m),S(p),r&&l(w),r&&l(y),r&&l(O),r&&l(H),dt.d(),r&&l(G),r&&l(V),r&&l(tt),r&&l(et),t[16](null),S(nt),t[17](null),r&&l(ot),r&&l(at),st=!1,i(lt)}}}const wt=200;function yt(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,a){function r(t){try{l(i.next(t))}catch(t){a(t)}}function s(t){try{l(i.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,s)}l((i=i.apply(t,e||[])).next())}))};let o,a,r=!1,s=[],l=[],c=!1,h=!1,u=!1,d=!0;return[o,a,r,s,l,c,h,u,d,function({detail:t}){return i(this,void 0,void 0,(function*(){n(4,l=[]),s.forEach((t=>{null!=(null==t?void 0:t.src)&&URL.revokeObjectURL(t.src)})),n(3,s=t.map((t=>{var e;return{src:null==t?null:URL.createObjectURL(t),alt:null!==(e=null==t?void 0:t.name)&&void 0!==e?e:null}}))),n(4,l=yield Promise.all(s.map((t=>{var e,n;return n=null!==(e=null==t?void 0:t.src)&&void 0!==e?e:null,new Promise(((t,e)=>{if(null==n)return Promise.resolve(null);const i=new Image;i.addEventListener("load",(()=>t(i)),{once:!0}),i.addEventListener("error",(t=>e(t)),{once:!0}),i.src=n}))}))))}))},function({detail:{imagesAvailable:t,canvas:e}}){n(5,c=t)},function(){n(2,r=!r),r&&setTimeout((()=>o.scrollIntoView()))},function(){const t=document.createElement("a");t.download="flextangle-template.png",t.href=a.canvas.toDataURL("image/png"),t.target="_blank",t.click()},function(){d=this.checked,n(8,d)},function(){h=this.checked,n(6,h)},function(){u=this.checked,n(7,u)},function(t){x[t?"unshift":"push"]((()=>{a=t,n(1,a)}))},function(t){x[t?"unshift":"push"]((()=>{o=t,n(0,o)}))}]}return new class extends z{constructor(t){super(),A(this,t,yt,pt,a,{})}}({target:document.body.querySelector("main")})}();
//# sourceMappingURL=bundle.js.map
